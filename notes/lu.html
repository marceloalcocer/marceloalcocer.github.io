

<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Lund University &mdash; marceloalcocer.github.io v0.0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Network" href="network.html" />
    <link rel="prev" title="LaTeX" href="latex.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> marceloalcocer.github.io
          

          
          </a>

          
            
            
              <div class="version">
                v0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../notes.html">Notes</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="backup.html">Backup</a></li>
<li class="toctree-l2"><a class="reference internal" href="bash.html">Bash</a></li>
<li class="toctree-l2"><a class="reference internal" href="c.html">C/C++</a></li>
<li class="toctree-l2"><a class="reference internal" href="desktop.html">Desktop environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="docker.html">Docker</a></li>
<li class="toctree-l2"><a class="reference internal" href="eclipse.html">Eclipse</a></li>
<li class="toctree-l2"><a class="reference internal" href="git.html">Git</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpg.html">Cryptography</a></li>
<li class="toctree-l2"><a class="reference internal" href="graphing.html">Graphing</a></li>
<li class="toctree-l2"><a class="reference internal" href="hardware.html">Hardware</a></li>
<li class="toctree-l2"><a class="reference internal" href="lab_server.html">Lab server</a></li>
<li class="toctree-l2"><a class="reference internal" href="latex.html">LaTeX</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Lund University</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#eduroam">Eduroam</a></li>
<li class="toctree-l3"><a class="reference internal" href="#smtp-server">SMTP Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="#vpn">VPN</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="network.html">Network</a></li>
<li class="toctree-l2"><a class="reference internal" href="packages.html">Packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="python.html">Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="rest.html">ReST</a></li>
<li class="toctree-l2"><a class="reference internal" href="reveal_js.html">reveal.js</a></li>
<li class="toctree-l2"><a class="reference internal" href="rtd.html">Read The Docs</a></li>
<li class="toctree-l2"><a class="reference internal" href="signal.html">Signal processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="sphinx.html">Sphinx</a></li>
<li class="toctree-l2"><a class="reference internal" href="ssh.html">SSH</a></li>
<li class="toctree-l2"><a class="reference internal" href="vim.html">Vim</a></li>
<li class="toctree-l2"><a class="reference internal" href="vscode.html">Visual Studio Code</a></li>
<li class="toctree-l2"><a class="reference internal" href="web.html">Web</a></li>
<li class="toctree-l2"><a class="reference internal" href="windows.html">Windows</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../ultrajs.html">ultrajs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sunfleet.html">Sunfleet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../svgfragments.html">SVGFragments</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">marceloalcocer.github.io</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../notes.html">Online margin scribbles…</a> &raquo;</li>
        
      <li>Lund University</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="lund-university">
<h1>Lund University<a class="headerlink" href="#lund-university" title="Permalink to this headline">¶</a></h1>
<div class="section" id="eduroam">
<h2>Eduroam<a class="headerlink" href="#eduroam" title="Permalink to this headline">¶</a></h2>
<p>Having troubles setting up eduroam according to LU guidelines <a class="footnote-reference" href="#id3" id="id1">[1]</a>. Think it’s a CA related problem, but difficult to diagnose.</p>
<p>Found configuration tool which seems to solve the problem however <a class="footnote-reference" href="#id4" id="id2">[2]</a>. Tested at ChemPhys and seems to work well.</p>
<table class="docutils footnote" frame="void" id="id3" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td><a class="reference external" href="https://luservicedesk.service-now.com/kb_view.do?sysparm_article=KB0010412">https://luservicedesk.service-now.com/kb_view.do?sysparm_article=KB0010412</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id4" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[2]</a></td><td><a class="reference external" href="https://cat.eduroam.org/?idp=433">https://cat.eduroam.org/?idp=433</a></td></tr>
</tbody>
</table>
</div>
<div class="section" id="smtp-server">
<h2>SMTP Server<a class="headerlink" href="#smtp-server" title="Permalink to this headline">¶</a></h2>
<p>Trying to use LU SMTP server to send outgoing ChemPhys mail rather than GMail SMTP servers. Marco got it working from Thunderbird using the following:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Server:</th><td class="field-body">smtp.lu.se</td>
</tr>
<tr class="field-even field"><th class="field-name">Port:</th><td class="field-body">25</td>
</tr>
<tr class="field-odd field"><th class="field-name">Username:</th><td class="field-body">&lt;email&gt;&#64;chemphys.lu.se</td>
</tr>
<tr class="field-even field"><th class="field-name">Password:</th><td class="field-body">&lt;password&gt;</td>
</tr>
<tr class="field-odd field"><th class="field-name">Encryption:</th><td class="field-body">STARTTLS</td>
</tr>
</tbody>
</table>
<p>Reading up a little:</p>
<dl class="docutils">
<dt>Transport Layer Security (TLS)</dt>
<dd>Successor to SSL (although still known as SSL). Provides secure layer for communication. Typically goes through port 587 for STMP. Uses fully encrypted port right from the beginning — no data sent to/from port in plain text</dd>
<dt>Opportunistic TLS (STARTTLS)</dt>
<dd>Protocol to which provides a means of upgrading an unencrypted connection to an encrypted one. Allows communications to be initiated in plain text before upgrading to encrypted. AKA STARTTLS from command used to initialise upgrade. More commonly used nowadays as saves on dedicated ports. Initial part of communications in plain text, all encrypted after STARTTLS command.</dd>
<dt>Simple Mail Transfer Protocol (SMTP) <a class="footnote-reference" href="#id10" id="id5">[3]</a></dt>
<dd>Outgoing mail protocol. SMTP client wanting to send e-mail contacts its SMTP server, which contacts recipients STMP server to deliver the email. The email is then fetched from the recipients STMP server by the recipient’s client via IMAP. SMTP servers usually require authentication (e.g. TLS) to avoid spammers from abusing them</dd>
</dl>
<p>So need gmail client to use <code class="docutils literal notranslate"><span class="pre">smtp.lu.se</span></code> rather than <code class="docutils literal notranslate"><span class="pre">smtp.gmail.com</span></code> to send outgoing mail. It provides options for both TLS and SSL authentication, on all three usual ports <a class="footnote-reference" href="#id11" id="id6">[4]</a>. None seem to work with LU SMTP server however.</p>
<p>Interestingly, trying to send mail manually via <code class="docutils literal notranslate"><span class="pre">telnet</span></code> with no authentication seems to be no problem:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>malcocer@malcocer-S551LN:~$ telnet smtp.lu.se 25
        Trying 130.235.52.18...
        Connected to mail.lu.se.
        Escape character is &#39;^]&#39;.
        220 mail.lu.se Microsoft ESMTP MAIL Service ready at Fri, 21 Oct 2016 17:21:17 +0200
        &gt;&gt; HELO marcelo.alcocer
        250 mail.lu.se Hello [130.235.28.41]
        &gt;&gt; MAIL FROM:&lt;foo@bar.com&gt;
        250 2.1.0 Sender OK
        &gt;&gt; RCPT TO:&lt;marcelo.j.p.alcocer@gmail.com&gt;
        250 2.1.5 Recipient OK
        &gt;&gt;DATA
        354 Start mail input; end with &lt;CRLF&gt;.&lt;CRLF&gt;
        &gt;&gt; From: &quot;Foobar&quot; &lt;foo@bar.com&gt;
        &gt;&gt; To: &quot;Marcelo Alcocer&quot; &lt;marcelo.j.p.alcocer@gmail.com&gt;
        &gt;&gt; Date: Fri, 21 October 2016 17:19:00 -0200
        &gt;&gt; Subject: Test
        &gt;&gt;
        &gt;&gt; Hi. this mail was sent from telnet from some random dude.
        &gt;&gt;
        &gt;&gt;.
        250 2.6.0 &lt;7c3912d5-5036-4372-8b07-958498de668b@wedge011.net.lu.se&gt; [InternalId=3959959848588, Hostname=wedge011.net.lu.se] 1224 bytes in 39.864, 0,030 KB/sec Queued mail for delivery
        &gt;&gt; QUIT
        221 2.0.0 Service closing transmission channel
        Connection closed by foreign host.
</pre></div>
</div>
<p>Does this mean that the LU SMTP server requires no authentication?! Would be very strange… <a class="footnote-reference" href="#id12" id="id7">[5]</a></p>
<p>Perhaps only when within LU network? Indeed, does not work from outside LU:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>malcocer@malcocer-S551LN:~$ telnet smtp.lu.se 25
        Trying 130.235.52.18...
        Connected to mail.lu.se.
        Escape character is &#39;^]&#39;.
        220 wedge012.net.lu.se Microsoft ESMTP MAIL Service ready at Fri, 21 Oct 2016 21:18:21 +0200
        &gt;&gt; HELO marcelo.alcocer
        250 wedge012.net.lu.se Hello [46.59.111.153]
        &gt;&gt; MAIL FROM:&lt;foo@bar.com&gt;
        250 2.1.0 Sender OK
        &gt;&gt; RCPT TO:&lt;marcelo.j.p.alcocer@gmail.com&gt;
        550 5.7.54 SMTP; Unable to relay recipient in non-accepted domain
</pre></div>
</div>
<p>So can we authenticate using STARTTLS? Cannot really do communication via <code class="docutils literal notranslate"><span class="pre">telnet</span></code> as will eventually encrypt. Better to use <code class="docutils literal notranslate"><span class="pre">openssl</span></code> <a class="footnote-reference" href="#id13" id="id8">[6]</a> <a class="footnote-reference" href="#id14" id="id9">[7]</a>.</p>
<p>Server does indeed support STARTTLS:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>malcocer@malcocer-S551LN:~$ telnet smtp.lu.se 25
        Trying 130.235.52.18...
        Connected to mail.lu.se.
        Escape character is &#39;^]&#39;.
        220 wedge012.net.lu.se Microsoft ESMTP MAIL Service ready at Fri, 21 Oct 2016 21:18:21 +0200
        &gt;&gt; EHLO marcelo.alcocer
        250-wedge010.net.lu.se Hello [46.59.111.153]
        250-SIZE 37748736
        250-PIPELINING
        250-DSN
        250-ENHANCEDSTATUSCODES
        250-STARTTLS
        250-X-ANONYMOUSTLS
        250-X-EXPS NTLM
        250-8BITMIME
        250-BINARYMIME
        250-CHUNKING
        250-XEXCH50
        250 XSHADOW
</pre></div>
</div>
<p>But no plaintext AUTH:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>malcocer@malcocer-S551LN:~$ openssl s_client -debug -starttls smtp -crlf -connect smtp.lu.se:25

        &lt;...key exchange...&gt;

        250 XSHADOW
        &gt;&gt; ehlo marcelo.alcocer
        250-wedge010.net.lu.se Hello [46.59.111.153]
        250-SIZE 37748736
        250-PIPELINING
        250-DSN
        250-ENHANCEDSTATUSCODES
        250-X-EXPS NTLM
        250-8BITMIME
        250-BINARYMIME
        250-CHUNKING
        250-XEXCH50
        250 XSHADOW
</pre></div>
</div>
<p>Implies connection is not secure? Or that plain text authentication is simply not supported?</p>
<p>No luck with STARTTLS on ports 465 or 587 (SSL ports) — connection refused. Is it expecting full TLS rather than STARTTLS?</p>
<p>Indeed, reading a bit further, looks like SMTP server only allows location based authentication:</p>
<blockquote>
<div><p>SMTP Server (Outgoing)  mail.lu.se (port 25 , no user name,outside the Lund University you will need to use SMTP of your ISP)</p>
<p class="attribution">&mdash;<a class="reference external" href="http://itsupport.nateko.lu.se/online-help/e-mail/">LDC</a></p>
</div></blockquote>
<p>Balls. Really?! Then Marco should not be able to send e-mails from Rostock…</p>
<p>Perhaps try LUCAT ID or mail.lu.se?</p>
<table class="docutils footnote" frame="void" id="id10" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id5">[3]</a></td><td><a class="reference external" href="https://en.wikipedia.org/wiki/Simple_Mail_Transfer_Protocol">https://en.wikipedia.org/wiki/Simple_Mail_Transfer_Protocol</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id11" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id6">[4]</a></td><td><a class="reference external" href="https://support.google.com/mail/answer/1074635?hl=en-GB">https://support.google.com/mail/answer/1074635?hl=en-GB</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id12" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id7">[5]</a></td><td><a class="reference external" href="https://productforums.google.com/forum/#!topic/gmail/rhEAg6hk6Lw">https://productforums.google.com/forum/#!topic/gmail/rhEAg6hk6Lw</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id13" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id8">[6]</a></td><td><a class="reference external" href="http://stackoverflow.com/questions/27030605/smtp-starttls-certificate-negotitiation-via-telnet">http://stackoverflow.com/questions/27030605/smtp-starttls-certificate-negotitiation-via-telnet</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id14" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id9">[7]</a></td><td><a class="reference external" href="https://qmail.jms1.net/test-auth.shtml">https://qmail.jms1.net/test-auth.shtml</a></td></tr>
</tbody>
</table>
</div>
<div class="section" id="vpn">
<h2>VPN<a class="headerlink" href="#vpn" title="Permalink to this headline">¶</a></h2>
<p>Access provided by fortis - horrible VPN through SSL approach. Cannot therefore use regular VPN client (e.g. openVPN), but instead must use theirs. The Fortis Linux binaries do no seem to work though.</p>
<p>Clever boy Rene however provides <a class="reference external" href="https://hadler.me/linux/forticlient-sslvpn-deb-packages/">working linux binaries in .deb packages</a>. Buy that man a beer…</p>
<p>Server:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">connect</span><span class="o">.</span><span class="n">lu</span><span class="o">.</span><span class="n">se</span><span class="o">/</span><span class="n">sslvpn</span><span class="o">/</span><span class="n">portal</span><span class="o">.</span><span class="n">html</span><span class="p">:</span><span class="mi">443</span>
</pre></div>
</div>
<p><strong>Update (2017.03):</strong> LDC changed FortiGate config meaning that home network can no longer be readched using above version of FortiClient. Must use ShrewSoft instead with custom config file <a class="footnote-reference" href="#id16" id="id15">[8]</a></p>
<table class="docutils footnote" frame="void" id="id16" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id15">[8]</a></td><td><a class="reference external" href="http://www.chemphys.lu.se/internal">http://www.chemphys.lu.se/internal</a></td></tr>
</tbody>
</table>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Marcelo Alcocer

    </p>
  </div>
    
    
      Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>