

<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Packages &mdash; marceloalcocer.github.io v0.0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Python" href="python.html" />
    <link rel="prev" title="Network" href="network.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> marceloalcocer.github.io
          

          
          </a>

          
            
            
              <div class="version">
                v0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../notes.html">Notes</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="backup.html">Backup</a></li>
<li class="toctree-l2"><a class="reference internal" href="bash.html">Bash</a></li>
<li class="toctree-l2"><a class="reference internal" href="c.html">C/C++</a></li>
<li class="toctree-l2"><a class="reference internal" href="desktop.html">Desktop environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="docker.html">Docker</a></li>
<li class="toctree-l2"><a class="reference internal" href="eclipse.html">Eclipse</a></li>
<li class="toctree-l2"><a class="reference internal" href="git.html">Git</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpg.html">Cryptography</a></li>
<li class="toctree-l2"><a class="reference internal" href="graphing.html">Graphing</a></li>
<li class="toctree-l2"><a class="reference internal" href="hardware.html">Hardware</a></li>
<li class="toctree-l2"><a class="reference internal" href="lab_server.html">Lab server</a></li>
<li class="toctree-l2"><a class="reference internal" href="latex.html">LaTeX</a></li>
<li class="toctree-l2"><a class="reference internal" href="lu.html">Lund University</a></li>
<li class="toctree-l2"><a class="reference internal" href="network.html">Network</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Packages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#misc-package-commands">Misc Package Commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="#packages-held-back">Packages Held Back</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ignoring-ucf-dist-file">Ignoring ucf-dist File</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="python.html">Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="rest.html">ReST</a></li>
<li class="toctree-l2"><a class="reference internal" href="reveal_js.html">reveal.js</a></li>
<li class="toctree-l2"><a class="reference internal" href="rtd.html">Read The Docs</a></li>
<li class="toctree-l2"><a class="reference internal" href="signal.html">Signal processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="sphinx.html">Sphinx</a></li>
<li class="toctree-l2"><a class="reference internal" href="ssh.html">SSH</a></li>
<li class="toctree-l2"><a class="reference internal" href="vim.html">Vim</a></li>
<li class="toctree-l2"><a class="reference internal" href="vscode.html">Visual Studio Code</a></li>
<li class="toctree-l2"><a class="reference internal" href="web.html">Web</a></li>
<li class="toctree-l2"><a class="reference internal" href="windows.html">Windows</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../ultrajs.html">ultrajs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sunfleet.html">Sunfleet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../svgfragments.html">SVGFragments</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">marceloalcocer.github.io</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../notes.html">Online margin scribbles…</a> &raquo;</li>
        
      <li>Packages</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="packages">
<h1>Packages<a class="headerlink" href="#packages" title="Permalink to this headline">¶</a></h1>
<div class="section" id="misc-package-commands">
<h2>Misc Package Commands<a class="headerlink" href="#misc-package-commands" title="Permalink to this headline">¶</a></h2>
<p>List installed packages <a class="footnote-reference" href="#id4" id="id1">[1]</a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">apt</span> <span class="nb">list</span> <span class="o">--</span><span class="n">installed</span>
</pre></div>
</div>
<p>Information on installed package <a class="footnote-reference" href="#id5" id="id2">[2]</a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dpkg</span> <span class="o">-</span><span class="n">s</span> <span class="o">&lt;</span><span class="n">PACKAGE</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Information on non-installed package:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dpkg</span> <span class="o">--</span><span class="nb">print</span><span class="o">-</span><span class="n">avail</span> <span class="o">&lt;</span><span class="n">PACKAGE</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Find package which provides file <a class="footnote-reference" href="#id6" id="id3">[3]</a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">apt</span><span class="o">-</span><span class="n">file</span> <span class="n">search</span> <span class="o">&lt;</span><span class="n">FILE</span><span class="o">&gt;</span>
</pre></div>
</div>
<table class="docutils footnote" frame="void" id="id4" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td><a class="reference external" href="http://askubuntu.com/questions/17823/how-to-list-all-installed-packages">http://askubuntu.com/questions/17823/how-to-list-all-installed-packages</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id5" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[2]</a></td><td><a class="reference external" href="http://askubuntu.com/questions/341178/how-do-i-get-details-about-a-package-which-isnt-installed">http://askubuntu.com/questions/341178/how-do-i-get-details-about-a-package-which-isnt-installed</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id6" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[3]</a></td><td><a class="reference external" href="https://wiki.debian.org/apt-file">https://wiki.debian.org/apt-file</a></td></tr>
</tbody>
</table>
</div>
<div class="section" id="packages-held-back">
<h2>Packages Held Back<a class="headerlink" href="#packages-held-back" title="Permalink to this headline">¶</a></h2>
<p>On day of 16.10 (Yakkety) release, doing <code class="docutils literal notranslate"><span class="pre">apt-get</span> <span class="pre">upgrade</span></code> seemed to update kernel from 4.4.0-42 to 4.4.0-43. GRUB now defaults to 43, but all hardware support is gone (usb, wifi, ethernet, etc).</p>
<p>When booting back into 42 and doing <code class="docutils literal notranslate"><span class="pre">apt-get</span> <span class="pre">upgrade</span></code>, now seeing:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">The</span> <span class="n">following</span> <span class="n">packages</span> <span class="n">have</span> <span class="n">been</span> <span class="n">kept</span> <span class="n">back</span><span class="p">:</span>
  <span class="n">linux</span><span class="o">-</span><span class="n">generic</span> <span class="n">linux</span><span class="o">-</span><span class="n">headers</span><span class="o">-</span><span class="n">generic</span> <span class="n">linux</span><span class="o">-</span><span class="n">image</span><span class="o">-</span><span class="n">generic</span> <span class="n">linux</span><span class="o">-</span><span class="n">signed</span><span class="o">-</span><span class="n">generic</span> <span class="n">linux</span><span class="o">-</span><span class="n">signed</span><span class="o">-</span><span class="n">image</span><span class="o">-</span><span class="n">generic</span>
</pre></div>
</div>
<p>Kept back implies that newer versions of the listed packages cannot be installed without breaking current dependencies:</p>
<blockquote>
<div><dl class="docutils">
<dt>upgrade</dt>
<dd>upgrade is used to install the newest versions of all packages
currently installed on the system from the sources enumerated in
/etc/apt/sources.list. Packages currently installed with new
versions available are retrieved and upgraded; under no
circumstances are currently installed packages removed, or packages
not already installed retrieved and installed. New versions of
currently installed packages that cannot be upgraded without
changing the install status of another package will be left at
their current version. An update must be performed first so that
apt-get knows that new versions of packages are available.</dd>
<dt>dist-upgrade</dt>
<dd>dist-upgrade in addition to performing the function of upgrade,
also intelligently handles changing dependencies with new versions
of packages; apt-get has a “smart” conflict resolution system, and
it will attempt to upgrade the most important packages at the
expense of less important ones if necessary. So, dist-upgrade
command may remove some packages. The /etc/apt/sources.list file
contains a list of locations from which to retrieve desired package
files. See also apt_preferences(5) for a mechanism for overriding
the general settings for individual packages.</dd>
</dl>
<p class="attribution">&mdash;apt-get man page</p>
</div></blockquote>
<p>Would seem that <code class="docutils literal notranslate"><span class="pre">apt-get</span> <span class="pre">upgrade</span></code> is trying to upgrade the kernel packages (<code class="docutils literal notranslate"><span class="pre">linux-generic</span></code>, <code class="docutils literal notranslate"><span class="pre">linux-headers-generic</span></code>, etc) to 43, but has realised that doing so would screw 42 and as such aborts. Not sure why it’s trying to upgrade to 43, but probably due to Yakkety release. Think those kernel packages are virtual and should contain different things for Yakkety and Xenial. Maybe someone screwed up the release upstream?</p>
<p>… indeed would seem to be the case. An <code class="docutils literal notranslate"><span class="pre">apt-get</span> <span class="pre">upgrade</span></code> at a later date seems to have fixed the problem.</p>
</div>
<div class="section" id="ignoring-ucf-dist-file">
<h2>Ignoring ucf-dist File<a class="headerlink" href="#ignoring-ucf-dist-file" title="Permalink to this headline">¶</a></h2>
<p>For a while now, have been getting following notification during <code class="docutils literal notranslate"><span class="pre">apt-get</span> <span class="pre">update</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">N</span><span class="p">:</span> <span class="n">Ignoring</span> <span class="n">file</span> <span class="s1">&#39;20auto-upgrades.ucf-dist&#39;</span> <span class="ow">in</span> <span class="n">directory</span> <span class="s1">&#39;/etc/apt/apt.conf.d/&#39;</span> <span class="k">as</span> <span class="n">it</span> <span class="n">has</span> <span class="n">an</span> <span class="n">invalid</span> <span class="n">filename</span> <span class="n">extension</span>
</pre></div>
</div>
<p>Reading around a little, found out that is due to conflicting APT configuration files.</p>
<p>APT configuration is done via a series of distributed configuration files all held in <code class="docutils literal notranslate"><span class="pre">/etc/apt/apt.conf.d</span></code> directory <a class="footnote-reference" href="#id9" id="id7">[4]</a>. When a package updates an APT config file, the <code class="docutils literal notranslate"><span class="pre">ucf</span></code> (Update Configuration Files) utility is called to prompt the user whether to keep the old config file or switch to the new one. Regardless of the given answer, the original configuration file (before update) is copied to a <code class="docutils literal notranslate"><span class="pre">*.ucf-dist</span></code> suffixed file. The configurations contained within this file is ignored by <code class="docutils literal notranslate"><span class="pre">apt-get</span> <span class="pre">update</span></code> due to the added extension, generating the above notification <a class="footnote-reference" href="#id10" id="id8">[5]</a>.</p>
<p>As such, the retained original config file can be compared to the active config file, and if not needed can be safely deleted.</p>
<table class="docutils footnote" frame="void" id="id9" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id7">[4]</a></td><td><a class="reference external" href="https://askubuntu.com/questions/254137/etc-apt-apt-conf-d-priority-overrule-configuration-file/254617">https://askubuntu.com/questions/254137/etc-apt-apt-conf-d-priority-overrule-configuration-file/254617</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id10" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id8">[5]</a></td><td><a class="reference external" href="https://askubuntu.com/questions/572976/what-to-do-now-update-just-after-install/573091#573091">https://askubuntu.com/questions/572976/what-to-do-now-update-just-after-install/573091#573091</a></td></tr>
</tbody>
</table>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Marcelo Alcocer

    </p>
  </div>
    
    
      Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>